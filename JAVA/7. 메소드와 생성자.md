# 7. 메소드와 생성자

## 메소드 (method)

- 어떠한 특정 작업을 수행하기 위한 명령문의 집합
  
- java에서 클래스는 멤버로 속성을 표현하는 필드와 기능을 표현하는 메소드를 가진다.
  
- 사용 목적 ?

  중복되는 코드 피할 수 O

  모듈화로 인해 코드의 가독성 ↑

  프로그램에 문제가 발생하거나 기능 변경이 필요할 때 유지보수 용이

- 메소드를 작성할 때는 되도록 하나의 메소드가 하나의 기능만을 수행하도록 작성한다.

### 메소드 정의

```java
// 문법 
접근제어자 반환타입 메소드이름(매개변수 목록) { // 선언부
    // 구현부
}
```

- 접근 제어자 : 해당 메소드에 접근할 수 있는 범위 명시
- 반환 타입(return type) : 메소드가 모든 작업을 마치고 반환하는 데이터의 타입 명시
- 메소드 이름 : 메소드를 호출하기 위한 이름 명시
- 매개변수 목록 (parameters) : 메소드 호출 시 전달되는 인수의 값을 저장할 변수들을 명시
- 구현부 : 메소드의 고유 기능을 수행하는 명령문의 집합



```java
// 예제 1
class Car {
    private int currentSpeed;
    private int accelerationTime;
    
    public void accelerate(int speed, int second) { // 선언부
        // 구현부
        System.out.println(second + "초간 속도를 시속 " + speed + "(으)로 가속함.");
    }
}
```

- accelerate() 메소드 정의
  - public 접근 제어자를 사용하여 선언되어 해당 객체를 사용하는 프로그램 어디서나 직접 접근 가능
  - 반환 타입에는 어떠한 값도 반환하지 않음을 의미하는 void를 명시
  - 매개변수 int형 변수인 speed와 second를 전달받음
    - 전달받은 매개변수를 통해 메소드 구현부에서 고유한 작업을 수행할 수 있음

### 메소드 호출

`.` 멤버 참조 연산자를 사용하여 호출할 수 있다.

```java
// 문법
// 1. 매개변수가 없는 메소드의 호출시
객체참조변수이름.메소드이름();

// 2. 매개변수가 있는 메소드의 호출시
객체참조변수이름.메소드이름(인수1, 인수2, ...);
```



```java
// 예제 2 : 예제 1에서 정의한  accelerate() 메소드 호출

Car myCar = new Car(); // 객체 생성
myCar.accelerate(60, 3); // myCar 인스턴스의 accelerate() 메소드를 호출

// 출력 : 3초간 속도를 시속 60(으)로 가속함.
```

```java
// 예제 3 : accelerate() 메소드 정의 & 호출

class Car {
    private int currentSpeed;
    private int accelerationTime;
    
    public void accelerate(int speed, int second) { // 선언부
        // 구현부
        System.out.println(second + "초간 속도를 시속 " + speed + "(으)로 가속함.");
    }
}

public class Method {
    public static void main(String[] args) {
        Car myCar = new Car(); // 객체 생성
        myCar.accelerate(60, 3); // 메소드 호출
    }
}

// 출력 : 3초간 속도를 시속 60(으)로 가속함.
```



## 생성자

### 인스턴스 변수의 초기화

- 클래스를 가지고 개겔 생성하면 해당 객체는 메모리에 즉시 생성된다.

  - 이 생성된 객체는 인스턴스 변수가 아직 초기화되지 않은 상태이다.

- 클래스 변수와 인스턴스 변수는 별도로 초기화하지 않으면 다음 값으로 자동 초기화된다.

  |     변수의 타입     |    초깃값     |
  | :-----------------: | :-----------: |
  |        char         |   '/u0000'    |
  |  byte, short, int   |       0       |
  |        long         |      0L       |
  |        float        |     0.0F      |
  |       double        | 0.0 또는 0.0D |
  |       boolean       |     false     |
  | 배열, 인스턴스, ... |     null      |

- 사용자가 원한느 값으로 인스턴스 변수를 초기화하려면?

  - 일반적인 초기화 방식으로는 초기화 불가능!
    - 인스턴스 변수 중에는 private 변수도 있고 이런 private 변수에는 사용자나 프로그램이 직접 접근 불가능하기 때문이다.
  - private 인스턴스 변수에도 접근할 수 있는 초기화만을 위한 public 메소드가 필요하다.
    - 이런 초기화만을 위한 메소드는 객체가 생성된 후부터 사용되기 전까지 반드시 인스턴스 변수의 초기화를 위해 호출되야 한다.

### 생성자 (constructor)

- 객체의 생성과 인스턴스 변수를 원하는 값으로 초기화수 있는 생성자라는 메소드를 제공한다.
  - 생성자의 이름은 해당 클래스의 이름과 같아야 한다.

#### 생성자의 특징

1. 생성자는 반환값이 없지만, 반환 타입을 void형으로 선언하지 않는다.
2. 생성자는 초기화를 위한 데이터를 인수로 전달받을 수 있다.
3. 객체를 초기화하는 방법이 여러개 존재할 경우 하나의 클래스가 여러 개의 생성자를 가질 수 있다.
   - 생성자도 하나의 메소드! 즉 메소드 오버로딩이 가능하다.

```java
// 예제 1: Car 클래스 선언, 여러 개의 생성자 선언

Car(String modelName) {}
Car(String modelName, int modelYear) {}
Car(String modelName, int modelYear, String color) {}
Car(String modelName, int modelYear, String color, int maxSpeed) {}
```

#### 생성자의 선언

```java
// 문법
// 1. 매개변수가 없는 생성자 선언
클래스이름() {...}

// 2. 매개변수가 있는 생성자 선언
클래스이름(인수1, 인수2, ...) {...}
```

- 매개변수를 전달받아 인스턴스 변수를 초기화하는 생성자도 선언가능하다.

```java
// 예제 2 : Car 클래스의 생성자 선언

Car(String modelName, int modelYear, String color, int maxSpeeds) {
    this.modelName = modelName;
    this.modelYear = modelYear;
    this.color = color;
    this.maxSpeed = maxSpeed;
    this.currentSpeed = 0;
}
```

#### 생성자 호출

- `new` 키워드를 사용하여 객생성할 때 자동으로 생성자가 호출된다.

```java
class Car {
    private String modelName;
    private int modelYear;
    private String color;
    private int maxSpeed;
    private int currentSpeed;
    
    Car(String modelName, int modelYear, String color, int maxSpeed) {
        this.modelName = modelName;
        this.modelYear = modelYear;
        this.color = color;
        this.maxSpeed = maxSpeed;
        this.currentSpeed = 0;
    }

    public String getModel() {
        return this.modelYear + "년식 " + this.modelName + " " + this.color;
    }
}

public class Method02 {
    public static void main(String[] args) {
        Car myCar = new Car("velostar", 2020, "gray", 200); // 생성자의 호출
        System.out.println(myCar.getModel()); // 생성자에 의해 초기화되었는지를 확인함.
    }
}

// 출력 : 2020년식 velostar gray
```

### 기본 생성자 (default constructor)

- 모든 클래스에는 하나 이상의 생성자가 정의되어 있어야 한다.

  - 생성자를 정의하지 않고도 인스턴스를 생성할 수 있다.

    => 자바 컴파일러가 기본 생성자(default constructor)을 기본적으로 제공해 주기 때문이다.

- 기본 생성자는 매개변수를 하나도 가지지 않고 명령어도 포함하고 있지 않다.



- 자바 컴파일러는 컴파일 시 클래스에 생성자가 정의되어 있지 않으면 자동으로 다음 같은 기본 생성자를 추가한다.

  ```java
  // 문법
  클래스이름() {}
  ```

  - 기본 생성자는 어떠한 매개변수도 전달받지 않으며 아무 동작도 하지 않는다.	

```java
// 예제 3 : Car 클래스에 생성자를 정의하지 않고, 기본 생성자 호출

class Car {
    private String modelName = "happycar";
    private int modelYear = 2020;
    private String color = "파란색";

    public String getModel() {
        return this.modelYear + "년식 " + this.color + " " + this.modelName;
    }
}

public class Method03 {
    public static void main(String[] args) {
        Car myCar = new Car(); // 기본 생성자의 호출
        System.out.println(myCar.getModel()); // 2020년식 파란색 happycar
    }
}
```

- Car 클래스의 인스턴스인 myCar는 기본 생성자를 사용하여 생성된다.
  - 기본 생성자는 아무런 동작도 하지 않으므로, 인스턴스 변수를 클래스 필드에서 바로 초기화한다.
  - 인스턴스 변수의 초기화는 생성자를 사용하여 수행가능하지만, 클래스 필드에서 바로 수행가능하다.
- 만약 매개변수를 가지는 생성자를 하나 이상 정의했다면, 기본 생성자는 자동으로 추가되지 않는다.
  - 매개변수를 가지는 생성자 하나 이상 정의한 후 기본 생성자를 호출하면 오류가 발생한다.

```java
// 예제 4 : 예제 3 + 매개변수를 갖는 생성자

class Car {
    private String modelName;
    private int modelYear;
    private String color;
    private int maxSpeed;
    private int currentSpeed;
    
    Car(String modelName, int modelYear, String color, int maxSpeed) {
        // 4개의 매개변수를 갖는 생성자 정의 => 자바 컴파일러는 Car 클래스에 별도의 기본 생성자를 추가하지 않는다.
        this.modelName = modelName;
        this.modelYear = modelYear;
        this.color = color;
        this.maxSpeed = maxSpeed;
        this.currentSpeed = 0;
    }
 
    public String getModel() {
        return this.modelYear + "년식 " + this.modelName + " " + this.color;
    }
}

public class Method04 {
    public static void main(String[] args) {
        Car myCar = new Car(); // 기본 생성자의 호출하여 인스턴스 생성하고자 한다. => 자바 컴파일러는 오류 발생!
        // 다음과 같이 4개의 매개변수를 전달해야 인스턴스가 생성된다. (생성자 호출)
        // Car myCar = new Car("happycar", 2020, "파란색", 200);
        System.out.println(myCar.getModel()); // 생성자에 의해 초기화되었는지를 확인함.
    }
}
```



## `this` vs `this()`



## 메소드 오버로딩



## 재귀호출